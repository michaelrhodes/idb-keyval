var kvs=function(){function n(n,e){u("readonly",l(function(r){i(r.get(n),e)},e))}function e(n,e,r){u("readwrite",l(function(t){i(t.put(e,n),r)},r))}function r(n,e){u("readwrite",l(function(r){i(r.delete(n),e)},e))}function t(n){u("readwrite",l(function(e){i(e.clear(),n)},n))}function o(n){n=n||s;var e=[];u("readonly",l(function(r){var t=(r.openKeyCursor||r.openCursor).call(r);t.onerror=n,t.onsuccess=function(){return t.result?(e.push(t.result.key),t.result.continue(),void 0):n(null,e)}},n))}function u(n,e){c(l(function(t){var o=t.transaction("kv",n);o.onerror=e,e(null,o.objectStore("kv"))},e))}function c(n){if(a)return n(null,a);var e=indexedDB.open("kvs",1);e.onerror=n,e.onupgradeneeded=function(){e.result.createObjectStore("kv")},e.onsuccess=function(){n(null,a=e.result)}}function i(n,e){e=e||s,n.onerror=e,n.onsuccess=function(){e(null,n.result)}}function l(n,e){return function(){var r=[].slice.call(arguments);null===r[0]?n.apply(null,r.slice(1)):e(r[0])}}function s(){}var a,f={exports:{}};f.exports={get:n,set:e,delete:r,clear:t,keys:o};var v=f.exports;return v}();
