kvs=function(){var n;function t(t,o){!function(t,o){if(n)return t(n);var u=indexedDB.open("kvs");u.onupgradeneeded=function(){u.result.createObjectStore("kv")},e(u,function(e){e?o(e):t(n=u.result)})}(function(n){t(n.transaction("kv","readwrite").objectStore("kv"))},o)}function e(n,t){t=t||o,n.onerror=t,n.onsuccess=function(){t(null,n.result)}}function o(){}return{clear:function(n){t(function(t){e(t.clear(),n)},n)},remove:function(n,o){t(function(t){e(t.delete(n),o)},o)},get:function(n,o){t(function(t){e(t.get(n),o)},o)},set:function(n,o,u){t(function(t){e(t.put(o,n),u)},u)}}}();
